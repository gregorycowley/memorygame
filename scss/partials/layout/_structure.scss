////////////////////////
//
// Structure
//
////////////////////////

/**
 * Box-model declarations,
 * div structure,
 * column breakdowns, etc.
 */

.parallax-item{
    position: relative;
}
// small Grid
@for $i from 1 through $total-columns-sm {
    .col-#{$i}-sm-offset {
        @include push($i, $total-columns-sm)
    }
    .col-#{$i}-sm { 
        @include span-columns($i, $total-columns-sm);
    }
    .col-#{$i}-sm-omega{
        @include span-columns($i omega, $total-columns-sm);
    }
    .col-half-full-bleed{
        display: block;
        position: relative;
        width: 100%;
    }
}

// Medium Grid
@include bp($breakpoint-md) {
    @for $i from 1 through $total-columns-md {
        .col-#{$i}-md-offset {
            @include push($i, $total-columns-md)
        }
        .col-#{$i}-md { 
            @include span-columns($i, $total-columns-md);
        }
        .col-#{$i}-md-omega{
            @include span-columns($i omega, $total-columns-md);
        }

        @if $i == 4{ //do this only once!
            @for $j from 1 through 4 {
                $left: null;
                @if($j % 2 == 0){$left: 1;} @else{$left: 0;}
                .col-#{$j}-before-md:before{
                    width: 48.46626%;
                    content: '';
                    position: absolute;
                    top:0; bottom:0;
                    left: ($left * 48.46626%) + ($left * 3.06748%);

                    background: rgba(black, .35);
                    @include border-radius(5px);
                } //end col-
            } //end for
        } //end if
    }

    .col-half-full-bleed{
        display: block;
        position: relative;
        float: left;
        width: 50%;
    }

    .col-full-bleed{
        display: block;
        position: relative;
        width: 100%;
    }
}

// Large Grid
@include bp($breakpoint-lg) {
    @for $i from 1 through $total-columns-lg {
        .col-#{$i}-lg-offset {
            @include push($i, $total-columns-lg)
        }
        .col-#{$i}-lg { 
            @include span-columns($i, $total-columns-lg);
        }
        .col-#{$i}-lg-omega{
            @include span-columns($i omega, $total-columns-lg);
        }

        @if $i == 4{
            @for $j from 1 through 4 {
                $left: $j - 1;
                .col-#{$j}-before-lg:before{
                    width: 23.48178%;
                    content: '';
                    position: absolute;
                    top: 0;
                    bottom: 0;
                    left: ($left * 23.48178%) + ($left * 2.02429%);

                    background: rgba(black, .35);
                    @include border-radius(5px);
                } //end col-
            } //end for
        } //end if
    } //end outer for

    .col-half-full-bleed{
        display: block;
        position: relative;
        width: 50%;
    }
}